# AI Robot Project

–ü—Ä–æ–µ–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
+-------------------+         Wi-Fi/WebSocket         +-------------------+
|                   | <----------------------------> |                   |
|   –ü–ö (pc_client)  |                                |   –†–æ–±–æ—Ç (ESP32)    |
|-------------------|                                |-------------------|
|  –ö–∞–º–µ—Ä–∞ (IP/USB)  |                                |  –ú–æ—Ç–æ—Ä—ã, —Å–µ–Ω—Å–æ—Ä—ã   |
|  –ù–µ–π—Ä–æ—Å–µ—Ç—å (ORT)  |                                |  –õ–∏–Ω–µ–π–∫–∞, –ò–ö       |
|  –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ      |                                |  WebSocket-—Å–µ—Ä–≤–µ—Ä  |
|  WebSocket-–∫–ª–∏–µ–Ω—Ç |                                |                   |
+-------------------+                                +-------------------+
        |                                                    |
        |                                                    |
        v                                                    v
  +-------------------+                              +-------------------+
  |   dataset/        |                              |  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ,      |
  |   weights/        |                              |  –ø–µ—Ä–µ–¥–∞—á–∞ –æ—à–∏–±–æ–∫  |
  +-------------------+                              +-------------------+
```

- **–ü–ö (`dev/pc_client.py`)**: –∑–∞—Ö–≤–∞—Ç –≤–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –∫–æ–º–∞–Ω–¥ (steer) –Ω–∞ ESP32, –ø—Ä–∏—ë–º –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.
- **–†–æ–±–æ—Ç (ESP32)**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—à–∏–≤–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤:
  - **data_collection_robot.cpp** ‚Äî —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: –µ–¥–µ—Ç –ø–æ –ª–∏–Ω–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É –Ω–∞ –ü–ö.
  - **remote_control_robot.cpp** ‚Äî –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç steer-–∫–æ–º–∞–Ω–¥—ã —Å –ü–ö –ø–æ WebSocket.
  - **autonomous_robot.cpp** ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–µ–π—Ä–æ—Å–µ—Ç—å (TFLite Micro), —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ—Ç–æ—Ä–∞–º–∏ –±–µ–∑ –ü–ö.
- **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**: –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ü–ö –∏ ESP32 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ WebSocket (–ø–æ—Ä—Ç 2222). –í–∏–¥–µ–æ –ø–æ—Ç–æ–∫ –∏–¥—ë—Ç –æ—Ç–¥–µ–ª—å–Ω–æ (IP-–∫–∞–º–µ—Ä–∞ –∏–ª–∏ USB).
- **–î–∞–Ω–Ω—ã–µ**: –≤—Å–µ –ª–æ–≥–∏ –∏ –≤–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `dataset/`, –≤–µ—Å–∞ –º–æ–¥–µ–ª–µ–π ‚Äî –≤ `weights/`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `dev/pc_client.py` ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä–µ–∂–∏–º train) –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º (—Ä–µ–∂–∏–º run) —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç—å
- `dev/train.py` ‚Äî –æ–±—É—á–µ–Ω–∏–µ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ –Ω–∞ —Å–æ–±—Ä–∞–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ
- `dev/export_models.py` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (TorchScript, ONNX, ORT, TFLite)
- `dev/prepare_dateset.py` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ –≤–∏–¥–µ–æ –∏ –ª–æ–≥–æ–≤
- `dev/robots/esp32/data_collection_robot.cpp` ‚Äî –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (TRAINING_MODE)
- `dev/robots/esp32/remote_control_robot.cpp` ‚Äî –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ü–ö (INFERENCE_MODE)
- `dev/robots/esp32/autonomous_robot.cpp` ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é (TFLite Micro, –±–µ–∑ –ü–ö)
- `dataset/` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–∏–¥–µ–æ, –ª–æ–≥–∏, npz)
- `weights/` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –≤–µ—Å–∞–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ (pth, onnx, ort, pt, tflite, cc)
- `requirements.txt` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è ESP32

- **data_collection_robot.cpp** ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –µ–¥–µ—Ç –ø–æ –ª–∏–Ω–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É –Ω–∞ –ü–ö –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞.
- **remote_control_robot.cpp** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç steer-–∫–æ–º–∞–Ω–¥—ã –ø–æ WebSocket –æ—Ç –ü–ö, —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ—Ç–æ—Ä–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ —Å –ü–ö.
- **autonomous_robot.cpp** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º: ESP32 —Å–Ω–∏–º–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∫–∞–º–µ—Ä—ã, –ø–æ–¥–∞—ë—Ç –≤ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–µ–π—Ä–æ—Å–µ—Ç—å (TFLite Micro), —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ—Ç–æ—Ä–∞–º–∏ –±–µ–∑ —É—á–∞—Å—Ç–∏—è –ü–ö.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–ø–æ–∫ dataset/ –∏ weights/

### üìÅ dataset/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ü–∞–ø–∫–∞ `dataset/` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏. –≠—Ç–æ "—Å—ã—Ä—å—ë" –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

**–¢–∏–ø–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `runX.mp4` ‚Äî –≤–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏ —Å –∫–∞–º–µ—Ä—ã —Ä–æ–±–æ—Ç–∞, —Å–Ω—è—Ç—ã–µ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `run1.mp4`). –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–∞–∑–º–µ—Ç–∫–∏.
- `runX.csv` ‚Äî CSV-—Ñ–∞–π–ª—ã —Å –ª–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –≤–∏–¥–µ–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `run1.csv`). –°–æ–¥–µ—Ä–∂–∞—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.
- `train.npz` ‚Äî –≥–æ—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ NumPy (—Å–∂–∞—Ç—ã–π –∞—Ä—Ö–∏–≤), –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –∏ –ª–æ–≥–æ–≤. –û–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (X) –∏ —Ü–µ–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (y), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–∞—é—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏.

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
dataset/
‚îú‚îÄ‚îÄ run1.mp4         # –í–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã
‚îú‚îÄ‚îÄ run1.csv         # –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –¥–ª—è —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ train.npz        # –ì–æ—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
```

**–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –°–±–æ—Ä –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ "—Å—ã—Ä—ã—Ö" –¥–∞–Ω–Ω—ã—Ö —Å —Ä–æ–±–æ—Ç–∞.
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–±—É—á–∞—é—â–µ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö.

---

### üìÅ weights/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ü–∞–ø–∫–∞ `weights/` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å –≤–µ—Å–∞–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è. –≠—Ç–æ "—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã" –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

**–¢–∏–ø–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `mnv2_035.pth` ‚Äî –≤–µ—Å–∞ –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ PyTorch (—Ñ–æ—Ä–º–∞—Ç `.pth`). –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –≤ PyTorch.
- `line_scripted.pt` ‚Äî TorchScript-–≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ (—Ñ–æ—Ä–º–∞—Ç `.pt`). –£–¥–æ–±–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –≤ PyTorch –±–µ–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞.
- `line.onnx` ‚Äî –º–æ–¥–µ–ª—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ ONNX ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
- `line.ort` ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è ONNX-–º–æ–¥–µ–ª–∏ –¥–ª—è ONNX Runtime (–±—ã—Å—Ç—Ä—ã–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –Ω–∞ CPU/GPU/ARM).
- `line_int8.tflite` ‚Äî –º–æ–¥–µ–ª—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ TFLite —Å –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–µ–π int8 ‚Äî –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
- `model_data.cc` ‚Äî C-–º–∞—Å—Å–∏–≤ —Å –º–æ–¥–µ–ª—å—é –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ—à–∏–≤–∫—É –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32 —Å TFLite Micro).

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
weights/
‚îú‚îÄ‚îÄ mnv2_035.pth         # –í–µ—Å–∞ PyTorch
‚îú‚îÄ‚îÄ line_scripted.pt     # TorchScript-–º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ line.onnx            # ONNX-–º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ line.ort             # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è ONNX Runtime –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ line_int8.tflite     # TFLite int8-–º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ model_data.cc        # C-–º–∞—Å—Å–∏–≤ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
```

**–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—É—á–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –º–æ–¥–µ–ª–µ–π.
- –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–ü–ö, SBC, –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã).
- –ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.8+ –∏ virtualenv
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
./scripts/setup.sh
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã
source venv/bin/activate
# –∏–ª–∏
source venv310/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
source venv310/bin/activate
```

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏:

```bash
cd dev
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
# –î–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏/–∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º (—Ä–µ–∂–∏–º—ã train/run)
python pc_client.py

# –î–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ –≤–∏–¥–µ–æ –∏ –ª–æ–≥–æ–≤
python prepare_dateset.py

# –î–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
python train.py

# –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏
python export_models.py
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ—à–∏–≤–∫–µ ESP32-CAM

–î–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ ESP32-CAM –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:

1. **–°–æ–∑–¥–∞–π—Ç–µ PlatformIO –ø—Ä–æ–µ–∫—Ç** –¥–ª—è ESP32-CAM –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π:

   ```bash
   # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   mkdir -p ~/esp32_firmware
   cd ~/esp32_firmware
   pio init --board esp32cam
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã** –≤ –ø—Ä–æ–µ–∫—Ç PlatformIO:

   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∏
   mkdir -p src include lib
   
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –æ–±—â–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
   cp /Users/vladimir/Documents/Projects/robots/ai_robot/dev/robots/esp32/esp32_cam_utils.h include/
   
   # –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ä–µ–∂–∏–º–æ–≤ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ main.cpp
   # –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
   cp /Users/vladimir/Documents/Projects/robots/ai_robot/dev/robots/esp32/data_collection_robot.cpp src/main.cpp
   
   # –ò–ª–∏ –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:
   # cp /Users/vladimir/Documents/Projects/robots/ai_robot/dev/robots/esp32/autonomous_robot.cpp src/main.cpp
   
   # –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º, —Ç–∞–∫–∂–µ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å –º–æ–¥–µ–ª—å—é
   # python dev/export_models.py # –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ—Å–ª–∏ —Ñ–∞–π–ª–∞ model_data.cc –Ω–µ—Ç
   # cp weights/model_data.cc src/
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª platformio.ini**:

   ```ini
   [env:esp32cam]
   platform = espressif32
   board = esp32cam
   framework = arduino
   monitor_speed = 115200
   build_flags = 
       -DCORE_DEBUG_LEVEL=5
       -DBOARD_HAS_PSRAM
       -mfix-esp32-psram-cache-issue
   lib_deps =
       links2004/WebSockets @ ^2.4.0
       esp32-camera
       # –î–ª—è autonomous_robot.cpp –Ω—É–∂–µ–Ω TFLite:
       tanakamasayuki/TensorFlowLite ESP32 @ ^0.9.0
   ```

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –º–æ—Ç–æ—Ä–æ–≤** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –º–æ—Ç–æ—Ä–æ–≤
   mkdir -p lib/HNR-252_DCv0_1/src lib/HNR-252_DCv0_1/include
   
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)
   # cp path/to/HNR-252_DCv0_1.cpp lib/HNR-252_DCv0_1/src/
   # cp path/to/HNR-252_DCv0_1.h lib/HNR-252_DCv0_1/include/
   ```

5. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É**:

   ```bash
   # –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å ESP32-CAM —á–µ—Ä–µ–∑ USB-TTL –∞–¥–∞–ø—Ç–µ—Ä
   # –∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å GPIO0 —Å GND –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Ä–µ–∂–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
   pio run -t upload
   
   # –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:
   # 1. –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç–µ GPIO0 –æ—Ç GND
   # 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ ESP32-CAM (–æ—Ç–∫–ª—é—á–∏—Ç–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ)
   ```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

- –í —Ñ–∞–π–ª–µ `dev/pc_client.py` –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `CAM_URL`, `ESP32_IP` –ø–æ–¥ –≤–∞—à—É —Å–µ—Ç—å –∏ —Ä–æ–±–æ—Ç–∞
- –í —Ñ–∞–π–ª–µ `dev/train.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –∏ –ø—É—Ç—å –∫ –¥–∞—Ç–∞—Å–µ—Ç—É
- –í —Ñ–∞–π–ª–µ `dev/export_models.py` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —ç–∫—Å–ø–æ—Ä—Ç –º–æ–¥–µ–ª–µ–π –∏ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞
- –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `dataset/` —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–∏–¥–µ–æ, –ª–æ–≥–∏ –∏ npz-—Ñ–∞–π–ª—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `weights/` —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤–µ—Å–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- –î–ª—è —Ä–∞–±–æ—Ç—ã —Å ESP32 –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ –∏–∑ `dev/robots/esp32/`